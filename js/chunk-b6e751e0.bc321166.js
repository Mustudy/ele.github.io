(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6e751e0"],{"2c70":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"exchangeWarp"},[s("header",{staticClass:"exchange_top"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(e){return t.$router.back(-1)}}}),s("span",{staticClass:"my"},[t._v("兑换红包")])]),s("div",{staticClass:"exchange_code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"exchange_input",attrs:{type:"text",placeholder:"请输入兑换码"},domProps:{value:t.name},on:{keyup:t.getValue,input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("section",{staticClass:"input_container captcha_code_container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.capCode,expression:"capCode"}],attrs:{type:"text",placeholder:"请输入验证码",maxlength:"4"},domProps:{value:t.capCode},on:{keyup:t.getValue,input:function(e){e.target.composing||(t.capCode=e.target.value)}}}),s("section",{staticClass:"input_c"},[s("img",{attrs:{src:t.capUrl,alt:""}}),s("div",{on:{click:t.changeCap}},[s("p",[t._v("看不清")]),s("p",[t._v("换一张")])])])])]),t.s1?s("div",{staticClass:"determine"},[t._v("兑换")]):t._e(),t.s2?s("div",{staticClass:"determine",style:{"background-color":t.s2?"#4cd964":"#ccc"},on:{click:t.change}},[t._v("兑换")]):t._e(),s("transition",{attrs:{name:"kf"}},[t.showcom?s("div",{staticClass:"alet_container"},[s("section",{staticClass:"tip_text_container"},[s("div",{staticClass:"tip_icon"},[s("span"),s("span")]),s("p",{staticClass:"tip_text"},[t._v(t._s(t.content))]),s("div",{staticClass:"confrim",on:{click:t.get}},[t._v("确认")])])]):t._e()])],1)},n=[],c=(s("b0c0"),{name:"Exchange",data:function(){return{name:"",capCode:"",capUrl:"",userid:"",s1:!0,s2:!1,code:"",content:"",showcom:!1}},created:function(){this.requestCode(),localStorage.getItem("userinfo")&&(this.userinfo=JSON.parse(localStorage.getItem("userinfo")),this.userid=this.userinfo[0].user_id)},methods:{requestCode:function(){var t=this;this.axios.post("v1/captchas").then((function(e){t.capUrl=e.code})).catch((function(t){}))},changeCap:function(){this.requestCode()},getValue:function(){this.name.length>=1&&4==this.capCode.length?(this.s2=!0,this.s1=!1):(this.s2=!1,this.s1=!0)},change:function(){var t=this;this.axios.post("/v1/users/"+this.userid+"/hongbao/exchange",{user_id:this.userid,exchange_code:this.name,captcha_code:this.capCode}).then((function(e){t.code=e,t.content=e.message,console.log(t.content),t.showcom=!0})).catch((function(t){}))},get:function(){this.showcom=!1,this.name="",this.capCode=""}}}),i=c,o=(s("8032"),s("2877")),r=Object(o["a"])(i,a,n,!1,null,"d834e0b6",null);e["default"]=r.exports},"7d61":function(t,e,s){},8032:function(t,e,s){"use strict";var a=s("7d61"),n=s.n(a);n.a}}]);
//# sourceMappingURL=chunk-b6e751e0.bc321166.js.map